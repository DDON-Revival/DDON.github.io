<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DDON Revival</title>

<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap" rel="stylesheet">

<style>
body {
    margin:0;
    font-family:'Cinzel', serif;
    background:#0f0f14;
    color:#e6e6e6;
}

header {
    background:#1b1b25;
    padding:20px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border-bottom:2px solid #c8a75d;
}

nav a {
    color:#e6e6e6;
    text-decoration:none;
    margin:0 15px;
}

nav a:hover {
    color:#c8a75d;
}

.hero {
    text-align:center;
    padding:120px 20px;
    background:linear-gradient(to bottom, #1b1b25, #0f0f14);
}

.hero h1 {
    font-size:60px;
    color:#c8a75d;
}

.section {
    padding:80px 20px;
    text-align:center;
}

.card {
    background:#1b1b25;
    padding:30px;
    margin:20px;
    display:inline-block;
    width:300px;
    border:1px solid #2a2a35;
}

footer {
    text-align:center;
    padding:20px;
    background:#1b1b25;
}
</style>
</head>

<body>

<header>
    <h2>DDON Revival</h2>

    <div id="totalPlayersBox" style="color:#c8a75d;font-weight:bold;">
        Total Players Online: 0
    </div>

    <nav>
        <a href="#home" data-key="home">Home</a>
        <a href="#news" data-key="news">News</a>
        <a href="#status" data-key="status">Server Status</a>
        <a href="leaderboard.html" data-key="leaderboard">Leaderboard</a>
        <a href="#download" data-key="download">Download</a>
    </nav>
</header>

<section id="home" class="hero">
    <h1 data-key="title">Dragon's Dogma Online</h1>
    <p data-key="subtitle">Biggest Server â€¢ Custom Content â€¢ Hardcore</p>
</section>

<section id="status" class="section">
    <h2 data-key="serverStatusTitle">Server Status</h2>
    <div id="serverStatusContainer"></div>
</section>

<footer>
2023 DDON Revival â€¢ Unofficial Fan Project
</footer>


<!-- ðŸ”¥ 1ï¸âƒ£ TRANSLATIONS FILE FIRST -->
<script src="translations.js"></script>

<!-- ðŸ”¥ 2ï¸âƒ£ MAIN SCRIPT -->
<script>

/* ===========================
   LANGUAGE SWITCH
=========================== */

function setLanguage(lang){
    const t = translations[lang];
    if(!t) return;

    document.querySelectorAll("[data-key]").forEach(el=>{
        const key = el.getAttribute("data-key");
        if(t[key]) el.textContent = t[key];
    });

    loadServerStatus();
}

const saved = localStorage.getItem("lang") || "en";
setLanguage(saved);


/* ===========================
   SERVER STATUS
=========================== */

async function loadServerStatus(){
    try{
        const response = await fetch("status.json?nocache=" + Date.now());
        const data = await response.json();

        const currentLang = localStorage.getItem("lang") || "en";
        const t = translations[currentLang];

        const container = document.getElementById("serverStatusContainer");
        container.innerHTML = "";

        let totalPlayers = 0;

        data.forEach(server=>{
            totalPlayers += server.players;

            const div = document.createElement("div");
            div.className = "card";

            div.innerHTML = `
                <h3>${server.name}</h3>
                <p>${t.statusLabel}: ${server.online ? "ðŸŸ¢ " + t.online : "ðŸ”´ " + t.offline}</p>
                <p>${t.playersLabel}: ${server.players}</p>
            `;

            container.appendChild(div);
        });

        document.getElementById("totalPlayersBox").textContent =
            `${t.totalPlayers}: ${totalPlayers}`;

    }catch(err){
        console.error("Status load failed:", err);
    }
}

loadServerStatus();
setInterval(loadServerStatus, 15000);

</script>
<script src="translations.js"></script>
<script>
/* Deine setLanguage() Funktion hier */
</script>
</body>
</html>