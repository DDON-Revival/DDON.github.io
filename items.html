<!DOCTYPE html>
<html>
<head>
<title>Items - DDON Wiki</title>
<link rel="stylesheet" href="wiki.css">
</head>
<body>

<header>
<h1>Items</h1>
</header>

<div class="container">
<input class="search-bar" id="search" placeholder="Search item...">
<div class="grid" id="itemGrid"></div>
</div>

<script src="wiki.js"></script>
<script>

(async ()=>{

    const items = await fetchCSV("../datas/itemlist.csv");

    const grid = document.getElementById("itemGrid");

    items.slice(1).forEach(row=>{
        if(row[1]){
            grid.appendChild(createCard(row[1],"Item"));
        }
    });

    document.getElementById("search").addEventListener("input",e=>{
        const val = e.target.value.toLowerCase();
        [...grid.children].forEach(card=>{
            card.style.display = card.innerText.toLowerCase().includes(val) ? "block":"none";
        });
    });

})();
</script>

</body>
</html>
