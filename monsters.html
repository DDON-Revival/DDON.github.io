<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>DDON Wiki - Monsters</title>

<style>
body{
    margin:0;
    background:#0f0f14;
    color:#e6e6e6;
    font-family:Arial;
}

header{
    background:#1b1b25;
    padding:20px;
    border-bottom:2px solid #c8a75d;
}

h1{
    margin:0;
    color:#c8a75d;
}

.container{
    max-width:1200px;
    margin:40px auto;
    padding:20px;
}

input{
    padding:10px;
    width:300px;
    background:#111;
    color:white;
    border:1px solid #c8a75d;
}

.monster{
    background:#1b1b25;
    padding:15px;
    margin-top:10px;
    border:1px solid #2a2a35;
}
</style>
</head>
<body>

<header>
<h1>Monster Wiki</h1>
</header>

<div class="container">
<input type="text" id="search" placeholder="Search monster...">
<div id="monsterList"></div>
</div>

<script>

let monsters = {};

fetch("datas/enemy-names.json")
.then(r=>r.json())
.then(data=>{
    monsters = data;
    renderMonsters();
});

function renderMonsters(filter=""){

    const list = document.getElementById("monsterList");
    list.innerHTML="";

    Object.entries(monsters).forEach(([id, name])=>{

        if(name === "None") return;

        if(filter && !name.toLowerCase().includes(filter.toLowerCase()))
            return;

        list.innerHTML += `
        <div class="monster">
            <strong>ID:</strong> ${id}<br>
            <strong>Name:</strong> ${name}
        </div>
        `;
    });
}

document.getElementById("search").addEventListener("input",e=>{
    renderMonsters(e.target.value);
});

</script>

</body>
</html>
